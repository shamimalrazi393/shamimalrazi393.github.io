<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shamim Al Razi | BUET MME Student</title>
  <link rel="icon" href="favicon.ico" />
  <style>
    /* Modern Color Scheme */
    :root {
      --primary: #2c3e50;
      --secondary: #e74c3c;
      --accent: #3498db;
      --light: #ecf0f1;
      --dark: #34495e;
    }
    
    /* Base Styles */
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f7fa;
      color: #333;
      line-height: 1.6;
    }
    
    /* Header Styles */
    header {
      background-color: var(--primary);
      padding: 30px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .logo {
      height: 80px;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
    }
    
    .profile {
      height: 80px;
      width: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid white;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      transition: transform 0.3s ease;
    }
    
    .profile:hover {
      transform: scale(1.05);
    }
    
    .header-text {
      flex: 1;
      text-align: center;
      color: white;
      padding: 0 20px;
    }
    
    .header-text h1 {
      margin: 10px 0 5px;
      font-size: 24px;
      letter-spacing: 0.5px;
    }
    
    .header-text p {
      margin: 0;
      font-size: 16px;
      opacity: 0.9;
    }
    
    /* Navigation Styles */
    nav {
      background-color: var(--dark);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
      padding: 15px 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    nav a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      padding: 8px 16px;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    
    nav a:hover {
      color: #ffd700;
      background-color: rgba(255,255,255,0.1);
    }
    
    /* Section Styles */
    section {
      padding: 40px;
      max-width: 900px;
      margin: 30px auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      transition: transform 0.3s ease;
    }
    
    section:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    
    h2 {
      border-bottom: 3px solid var(--accent);
      padding-bottom: 12px;
      margin-bottom: 25px;
      color: var(--primary);
      font-size: 24px;
      display: flex;
      align-items: center;
    }
    
    /* Form Elements */
    input, button {
      font-size: 16px;
      padding: 12px;
      margin: 10px 0;
      width: 100%;
      border-radius: 6px;
      border: 1px solid #ddd;
      transition: all 0.3s ease;
    }
    
    input:focus {
      border-color: var(--accent);
      outline: none;
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }
    
    button {
      background: var(--secondary);
      color: white;
      border: none;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(231, 76, 60, 0.3);
    }
    
    button:hover {
      background: #c0392b;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(231, 76, 60, 0.4);
    }
    
    /* Upload Sections */
    .upload-author-only {
      display: none;
      margin-bottom: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid var(--accent);
    }
    
    /* File Items */
    .file-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      padding: 12px;
      background: white;
      border-radius: 6px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
    }
    
    .file-item:hover {
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .file-item a {
      word-break: break-all;
      color: var(--primary);
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .file-item a:hover {
      color: var(--accent);
      text-decoration: underline;
    }
    
    .file-item button {
      width: auto;
      padding: 8px 16px;
      font-size: 14px;
      margin-left: 15px;
    }
    
    /* YouTube Videos */
    #youtube-videos {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 20px;
    }
    
    #youtube-videos iframe {
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }
    
    #youtube-videos iframe:hover {
      transform: scale(1.02);
    }
    
    /* Contact Section */
    #contact p {
      margin: 15px 0;
      display: flex;
      align-items: center;
    }
    
    #contact a {
      color: var(--secondary);
      text-decoration: none;
      margin-left: 8px;
      transition: color 0.3s ease;
    }
    
    #contact a:hover {
      color: #c0392b;
      text-decoration: underline;
    }
    
    /* Password Change Section */
    #change-pass-section {
      max-width: 500px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      display: none;
    }
    
    /* Footer */
    footer {
      background-color: var(--primary);
      color: white;
      text-align: center;
      padding: 30px 20px;
      margin-top: 50px;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        text-align: center;
      }
      
      .logo, .profile {
        margin-bottom: 20px;
      }
      
      nav {
        gap: 15px;
        padding: 10px;
      }
      
      section {
        padding: 25px;
        margin: 20px auto;
      }
      
      #youtube-videos {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header>
    <img src="buet-logo.png" alt="BUET Logo" class="logo" />
    <div class="header-text">
      <h1>Md. Shamim Al Razi</h1>
      <p>Materials & Metallurgical Engineering Student | BUET</p>
    </div>
    <img src="profile.jpg" alt="Shamim Al Razi" class="profile" />
  </header>

  <nav>
    <a href="#fusion">Fusion Shilpigosti</a>
    <a href="#publications">Publications</a>
    <a href="#writings">Writings</a>
    <a href="#contact">Contact</a>
  </nav>

  <div id="author-login" style="text-align:center; margin: 30px auto; max-width: 500px;">
    <h3 style="color: var(--primary); margin-bottom: 20px;">Author Login</h3>
    <input type="text" 
           id="author-id" 
           placeholder="Author ID" 
           autocomplete="username" />
    <input type="password" 
           id="author-password" 
           placeholder="Password" 
           autocomplete="current-password" />
    <button onclick="checkAuthorLogin()">Login</button>
  </div>

  <div id="author-logout" style="display:none; text-align:center; margin: 30px auto; max-width: 500px;">
    <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
      <h3 style="color: var(--primary); margin-bottom: 10px;">Welcome, Author!</h3>
      <p style="color: #2e7d32;">You have access to manage content</p>
    </div>
    <button onclick="signOutAuthor()" style="max-width: 200px; margin: 0 auto;">Sign Out</button>
  </div>

  <section id="fusion">
    <h2>Fusion Shilpigosti</h2>
    <p>Explore music and videos under Fusion Shilpigosti.</p>
    
    <div style="display: flex; gap: 15px; margin: 20px 0; flex-wrap: wrap;">
      <a href="https://youtube.com/@fusion_393" 
         target="_blank" 
         rel="noopener"
         style="display: inline-block; background: #ff0000; color: white; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: 600;">
        Watch on YouTube
      </a>
      <a href="https://www.facebook.com/IslamInMyHeart11" 
         target="_blank" 
         rel="noopener"
         style="display: inline-block; background: #3b5998; color: white; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: 600;">
        Visit Facebook Page
      </a>
    </div>

    <div class="upload-author-only">
      <h3>Upload Your Music or Video</h3>
      <input type="file" id="fusionUpload" accept="video/*,audio/*" />
      <button onclick="uploadFile('fusionUpload', 'fusion')">Upload</button>
    </div>

    <h3>Public Downloads</h3>
    <div class="download-list" id="fusion-files">Loading files...</div>

    <h3>Latest YouTube Videos</h3>
    <div id="youtube-videos">Loading videos...</div>
  </section>

  <section id="publications">
    <h2>Publications</h2>
    <div class="upload-author-only">
      <input type="file" id="pubUpload" accept="application/pdf" />
      <button onclick="uploadFile('pubUpload', 'publications')">Upload</button>
    </div>
    <div class="download-list" id="publication-files">Loading files...</div>
  </section>

  <section id="writings">
    <h2>Writings</h2>
    <div class="upload-author-only">
      <input type="file" id="writeUpload" accept=".txt,.pdf,.docx" />
      <button onclick="uploadFile('writeUpload', 'writings')">Upload</button>
    </div>
    <div class="download-list" id="writing-files">Loading files...</div>
  </section>

  <section id="contact">
    <h2>Contact Me</h2>
    <p><span style="font-weight: 600; color: var(--primary);">Email:</span> 
       <a href="mailto:shamim393393@gmail.com">shamim393393@gmail.com</a></p>
    <p><span style="font-weight: 600; color: var(--primary);">Phone:</span> 
       <a href="tel:+8801628912047">01628912047</a></p>
    <p><span style="font-weight: 600; color: var(--primary);">LinkedIn:</span> 
       <a href="https://www.linkedin.com/in/shamim393/" target="_blank" rel="noopener">linkedin.com/in/shamim393</a></p>
    <p><span style="font-weight: 600; color: var(--primary);">Facebook:</span> 
       <a href="https://www.facebook.com/md.shamimalrazi.393/" target="_blank" rel="noopener">md.shamimalrazi.393</a></p>
    <p><span style="font-weight: 600; color: var(--primary);">Twitter:</span> 
       <a href="https://x.com/Shamim393" target="_blank" rel="noopener">@Shamim393</a></p>
  </section>

  <section id="change-pass-section">
    <h2>Change Author ID & Password</h2>
    <input type="text" 
           id="new-author-id" 
           placeholder="New Author ID" 
           autocomplete="username" />
    <input type="password" 
           id="new-author-pass" 
           placeholder="New Password" 
           autocomplete="new-password" />
    <button onclick="changeAuthorCredentials()">Save Changes</button>
  </section>

  <footer>
    <p>&copy; 2025 Md. Shamim Al Razi. All rights reserved.</p>
  </footer>

  <script>
    // Initialize author credentials from localStorage or defaults
    let AUTHOR_ID = localStorage.getItem("author_id") || "admin";
    let AUTHOR_PASSWORD = localStorage.getItem("author_pass") || "123456";
    let isAuthorLoggedIn = false;

    // Load uploaded files from localStorage or empty arrays per section
    let uploadedFiles = JSON.parse(localStorage.getItem("uploaded_files") || 
      '{"fusion":[],"publications":[],"writings":[]}');

    // Check login credentials and toggle UI accordingly
    function checkAuthorLogin() {
      const id = document.getElementById("author-id").value.trim();
      const pass = document.getElementById("author-password").value.trim();
      if (id === AUTHOR_ID && pass === AUTHOR_PASSWORD) {
        isAuthorLoggedIn = true;
        alert("Login successful!");
        toggleLoginUI();
        renderFiles();
      } else {
        alert("Invalid credentials.");
      }
    }

    // Sign out author and reset UI
    function signOutAuthor() {
      isAuthorLoggedIn = false;
      toggleLoginUI();
      renderFiles();
    }

    // Show/hide upload controls, login/logout UI and password change form
    function toggleLoginUI() {
      document.getElementById("author-login").style.display = isAuthorLoggedIn ? "none" : "block";
      document.getElementById("author-logout").style.display = isAuthorLoggedIn ? "block" : "none";

      document.querySelectorAll(".upload-author-only").forEach(el => {
        el.style.display = isAuthorLoggedIn ? "block" : "none";
      });

      document.getElementById("change-pass-section").style.display = isAuthorLoggedIn ? "block" : "none";
    }

    // Upload file handler (simulated, files stored in localStorage as file names only)
    function uploadFile(inputId, section) {
      if (!isAuthorLoggedIn) {
        alert("You must be logged in as author to upload.");
        return;
      }

      const input = document.getElementById(inputId);
      if (input.files.length === 0) {
        alert("Please select a file.");
        return;
      }
      
      const file = input.files[0];
      // Here, in real app, upload to backend or Google Drive or server
      // For demo, we just store file name in localStorage

      uploadedFiles[section].push(file.name);
      localStorage.setItem("uploaded_files", JSON.stringify(uploadedFiles));
      alert(`File "${file.name}" uploaded successfully!`);
      input.value = ""; // clear file input
      renderFiles();
    }

    // Render uploaded files lists with delete buttons for author
    function renderFiles() {
      ["fusion", "publications", "writings"].forEach(section => {
        const containerId = section === "fusion" ? "fusion-files" : 
                            section === "publications" ? "publication-files" : "writing-files";
        const container = document.getElementById(containerId);
<script>
  // Initialize author credentials from localStorage or defaults
  let AUTHOR_ID = localStorage.getItem("author_id") || "admin";
  let AUTHOR_PASSWORD = localStorage.getItem("author_pass") || "123456";
  let isAuthorLoggedIn = false;

  // Load uploaded files from localStorage or use default structure
  let uploadedFiles = JSON.parse(localStorage.getItem("uploaded_files") || 
    '{"fusion":[],"publications":[],"writings":[]}');

  // Toggle login/logout and upload UI
  function toggleLoginUI() {
    document.getElementById("author-login").style.display = isAuthorLoggedIn ? "none" : "block";
    document.getElementById("author-logout").style.display = isAuthorLoggedIn ? "block" : "none";

    document.querySelectorAll(".upload-author-only").forEach(el => {
      el.style.display = isAuthorLoggedIn ? "block" : "none";
    });

    document.getElementById("change-pass-section").style.display = isAuthorLoggedIn ? "block" : "none";
  }

  // Upload file handler
  function uploadFile(inputId, section) {
    if (!isAuthorLoggedIn) {
      alert("You must be logged in as author to upload.");
      return;
    }

    const input = document.getElementById(inputId);
    if (input.files.length === 0) {
      alert("Please select a file.");
      return;
    }

    const file = input.files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
      const dataUrl = e.target.result;
      uploadedFiles[section].push({ name: file.name, dataUrl });
      localStorage.setItem("uploaded_files", JSON.stringify(uploadedFiles));
      alert(`File "${file.name}" uploaded successfully!`);
      input.value = "";
      renderFiles();
    };
    reader.readAsDataURL(file);
  }

  // Render uploaded files
  function renderFiles() {
    ["fusion", "publications", "writings"].forEach(section => {
      const containerId = section === "fusion" ? "fusion-files" : 
                          section === "publications" ? "publication-files" : "writing-files";
      const container = document.getElementById(containerId);
      container.innerHTML = "";

      if (!uploadedFiles[section] || uploadedFiles[section].length === 0) {
        container.textContent = "No files uploaded.";
        return;
      }

      uploadedFiles[section].forEach((file, idx) => {
        const div = document.createElement("div");
        div.className = "file-item";

        const link = document.createElement("a");
        link.href = file.dataUrl || "#";
        link.textContent = file.name || "[Unnamed]";
        link.target = "_blank";
        div.appendChild(link);

        if (isAuthorLoggedIn) {
          const delBtn = document.createElement("button");
          delBtn.textContent = "Delete";
          delBtn.onclick = () => {
            if (confirm(`Delete "${file.name}"?`)) {
              uploadedFiles[section].splice(idx, 1);
              localStorage.setItem("uploaded_files", JSON.stringify(uploadedFiles));
              renderFiles();
            }
          };
          div.appendChild(delBtn);
        }

        container.appendChild(div);
      });
    });
  }

  // Change author credentials
  function changeAuthorCredentials() {
    const newId = document.getElementById("new-author-id").value.trim();
    const newPass = document.getElementById("new-author-pass").value.trim();
    if (newId === "" || newPass === "") {
      alert("Please fill both fields.");
      return;
    }
    AUTHOR_ID = newId;
    AUTHOR_PASSWORD = newPass;
    localStorage.setItem("author_id", AUTHOR_ID);
    localStorage.setItem("author_pass", AUTHOR_PASSWORD);
    alert("Credentials updated. Please log in again.");
    signOutAuthor();
  }

  // Sign out logic
  function signOutAuthor() {
    isAuthorLoggedIn = false;
    toggleLoginUI();
    renderFiles();
  }

  // Login check
  function checkAuthorLogin() {
    const id = document.getElementById("author-id").value.trim();
    const pass = document.getElementById("author-password").value.trim();
    if (id === AUTHOR_ID && pass === AUTHOR_PASSWORD) {
      isAuthorLoggedIn = true;
      alert("Login successful!");
      toggleLoginUI();
      renderFiles();
    } else {
      alert("Invalid credentials.");
    }
  }

  // YouTube API fetch with Show All button
  const maxInitialVideos = 5;
  let allVideos = [];

  function fetchVideos() {
    const channelId = "UCZpabp4C9ttk68-G1_SOsJQ";
    const apiKey = "AIzaSyC0Z9fSpsm-GUipCRgG0XJTeKTvRza0pFU";
    const maxResults = 50;

    fetch(`https://www.googleapis.com/youtube/v3/search?key=${apiKey}&channelId=${channelId}&part=snippet,id&order=date&maxResults=${maxResults}`)
      .then(res => res.json())
      .then(data => {
        if (!data.items) {
          document.getElementById('youtube-videos').textContent = 'No videos found.';
          return;
        }

        allVideos = data.items.filter(item => item.id.kind === "youtube#video");
        renderVideos(allVideos.slice(0, maxInitialVideos));

        if (allVideos.length > maxInitialVideos) {
          showLoadAllButton();
        }
      })
      .catch(() => {
        document.getElementById('youtube-videos').textContent = 'Failed to load videos.';
      });
  }

  function renderVideos(videos) {
    const videosDiv = document.getElementById('youtube-videos');
    videosDiv.innerHTML = '';
    videos.forEach(item => {
      const videoId = item.id.videoId;
      const iframe = document.createElement('iframe');
      iframe.width = "320";
      iframe.height = "180";
      iframe.src = `https://www.youtube.com/embed/${videoId}`;
      iframe.setAttribute("allowfullscreen", "");
      videosDiv.appendChild(iframe);
    });
  }

  function showLoadAllButton() {
    let btn = document.getElementById('load-all-btn');
    if (!btn) {
      btn = document.createElement('button');
      btn.id = 'load-all-btn';
      btn.textContent = 'Show All Videos';
      btn.style.marginTop = '20px';
      btn.onclick = () => {
        renderVideos(allVideos);
        btn.style.display = 'none';
      };
      document.getElementById('youtube-videos').after(btn);
    } else {
      btn.style.display = 'block';
    }
  }

  // On page load
  window.onload = () => {
    toggleLoginUI();
    renderFiles();
    fetchVideos();
  };
</script>
</body>
</html>
